PROCESSOR PIC16F877A
ORG 0X00
GOTO INICIO
ORG 0X05
INICIO
;CARLOS CASTELAN RAMOS - PEDRO JAIR CORONA NAVA
	BSF 0X03, 0X05 ;RP0->1
	BCF 0X03, 0X06 ;RP1->0
	
	MOVLW 0XFF ; MANDO PUROS 11111111
	MOVWF 0X05 ; LO GUARDO EN TRISX A PARA HACERLOS ENTRADA 
	
	MOVLW 0X00 ; MANDO PUROS 000000
	MOVWF 0X06 ; LO GUARDO EN TRISX A PARA HACERLOS SALIDAS 

	BCF 0X03, 0X05 ;RP0->0 REGRESO A BANCO 00

	
	BTFSC 0X05, 0X00 ;RA0
		GOTO RA0_1 ;RA0-->1
		GOTO RA0_0 ;RA0-->0

	RA0_0 BTFSC 0X05,0X01 ;RA1
		GOTO PORTA_10 ;RA1_1
		GOTO PORTA_00 ;RA1_0
	
	RA0_1 BTFSC 0X05,0X01 ;RA1
		GOTO PORTA_11 ;RA1_1
		GOTO PORTA_01 ;RA1_0

	PORTA_00 GOTO SECUENCIA80 ;ESTABLECE INICIO DE SECUENCIA
		GOTO CORRIMIENTO80 ;INICIA CICLO

		SECUENCIA80 MOVLW 0X01; COLOCAMOS EL PRIMER UNO
			MOVWF 0X06; LO MANDAMOS AL REGUSTRISTRO
			BCF 0X03,0X00; PONEMOS LA BANDERA CARRY EN CERO
		 
		CORRIMIENTO80 RLF 0X06,0X01 ; EMPEZAMOS CORRIMIENTO
			MOVLW 0X80 ;ASIGNO EL VALOR A W
			SUBWF 0X06, 0X00 ;HACEMOS UNA RESTA PARA SABER SI Z=0
			BTFSS 0X06,0X02 ; PREGUNTAMOS SI YA LLEGAMOS A 80, Z=0
				GOTO CORRIMIENTO80 ;REPITE EL CICLO
				GOTO SECUENCIA80; REINICIA EL CICLO

	PORTA_01 GOTO SECUENCIA01 ;ESTABLECE INICIO DE SECUENCIA
		GOTO CORRIMIENTO01 ;INICIA CICLO

		SECUENCIA01 MOVLW 0X80; COLOCAMOS QUE PARTA DE 80
			MOVWF 0X06; LO MANDAMOS AL REGUSTRISTRO
			BCF 0X03,0X00; PONEMOS LA BANDERA CARRY EN CERO
		 
		CORRIMIENTO01 RRF 0X06,0X01 ; EMPEZAMOS CORRIMIENTO
			MOVLW 0X01;ASIGNO EL VALOR A W
			SUBWF 0X06, 0X00 ;HACEMOS UNA RESTA PARA SABER SI Z=0
			BTFSS 0X06,0X02 ; PREGUNTAMOS SI YA LLEGAMOS A 01
				GOTO CORRIMIENTO01 ;REPITE EL CICLO
				GOTO SECUENCIA01 ;REINICIA EL CILO

	PORTA_10 
		CHANGE MOVLW 0X0F ;ASIGNO EL VALOR 0X0F
			MOVWF 0X06 ;LO PASO AL REGISTRO
			SWAPF 0X06, 0X01 ; INTERCAMBIO A 0XF0
			GOTO CHANGE ;REPITO EL CICLO

	PORTA_11
		CAMBIAR MOVLW 0X00 ;ASIGNO EL VALOR 0X00
			MOVWF 0X06 ;LO PASO AL REGISTRO
			COMF 0X06, 0X01 ; INTERCAMBIO A 0XFF
			GOTO CAMBIAR ;REPITO EL CICLO

END